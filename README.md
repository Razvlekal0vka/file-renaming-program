# File Renaming Program / Программа переименования файлов

[English](#english) | [Русский](#русский)

---

## English

### Description

A Python application with a graphical interface for batch renaming files by adding parent folder names to filenames. The program supports multiple folder pairs, customizable naming patterns, and includes progress tracking.

### Features

- **GUI Interface**: Modern, user-friendly interface built with tkinter
- **Multiple Folder Pairs**: Process multiple source-destination folder pairs in one session
- **Customizable Naming**: Configure separator and quote symbols for file naming
- **Root Folder Option**: Optionally include root folder name in file names
- **Progress Tracking**: Dual progress bars showing overall and per-pair progress
- **Theme Support**: Light and dark themes
- **Windows Compatible**: Automatic filename sanitization for Windows to prevent errors
- **Safe Operations**: Complete folder structure copying before renaming

### Requirements

- Python 3.9 or higher
- Standard Python libraries only (no external dependencies required)
  - tkinter (GUI)
  - pathlib (path operations)
  - shutil (file copying)
  - threading (multithreading)
  - os (file system operations)

### Installation

1. Clone this repository:
```bash
git clone <repository-url>
cd file-renaming-program
```

2. No installation required - the program uses only standard Python libraries.

### Usage

1. Run the program:
```bash
python file_renamer.py
```

2. **Add Folder Pairs**:
   - Select source folder (the folder containing files to rename)
   - Select destination folder (where renamed files will be saved)
   - Click "Add to list" / "Добавить в список"

3. **Configure Naming**:
   - Set separator between folder names (default: " + ")
   - Set quote symbol for folder names (default: single quote on Windows, double quote on other systems)
   - Optionally enable "Include root folder name" checkbox

4. **Start Processing**:
   - Click "Start Processing" / "ЗАПУСТИТЬ ОБРАБОТКУ"
   - Monitor progress with the progress bars

### How It Works

1. The program copies the entire source folder structure to the destination
2. For each file, it collects all parent folder names along the path
3. File names are generated by combining folder names with the configured separator and quotes
4. Invalid characters are automatically removed to ensure compatibility
5. Files are renamed with the new names while preserving the original structure

### Example

If a file `example.txt` is located at `source_folder/subfolder1/subfolder2/example.txt`:
- With default settings: `'subfolder1' + 'subfolder2' + example.txt`
- With root folder included: `'root_name' + 'subfolder1' + 'subfolder2' + example.txt`

### Windows Compatibility

The program automatically handles Windows filename restrictions:
- Removes invalid characters: `< > : " / \ | ? *`
- Removes trailing dots and spaces
- Uses single quotes by default on Windows to avoid path errors

### Version

Current version: See `VERSION` file

### License

See `LICENSE` file for details.

### Contributing

Contributions are welcome! Please ensure your code follows the existing style and includes bilingual comments.

### Changelog

See `CHANGELOG.md` for version history and changes.

---

## Русский

### Описание

Приложение на Python с графическим интерфейсом для массового переименования файлов путем добавления названий родительских папок к именам файлов. Программа поддерживает обработку нескольких пар папок, настраиваемые шаблоны именования и отслеживание прогресса.

### Возможности

- **Графический интерфейс**: Современный, удобный интерфейс на основе tkinter
- **Несколько пар папок**: Обработка нескольких пар исходная-назначение за одну сессию
- **Настраиваемое именование**: Настройка разделителя и символов кавычек для именования файлов
- **Опция корневой папки**: Опциональное включение имени корневой папки в имена файлов
- **Отслеживание прогресса**: Два прогресс-бара для общего прогресса и прогресса по паре
- **Поддержка тем**: Светлая и темная темы
- **Совместимость с Windows**: Автоматическая очистка имен файлов для Windows для предотвращения ошибок
- **Безопасные операции**: Полное копирование структуры папок перед переименованием

### Требования

- Python 3.9 или выше
- Только стандартные библиотеки Python (внешние зависимости не требуются)
  - tkinter (GUI)
  - pathlib (работа с путями)
  - shutil (копирование файлов)
  - threading (многопоточность)
  - os (операции с файловой системой)

### Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd file-renaming-program
```

2. Установка не требуется - программа использует только стандартные библиотеки Python.

### Использование

1. Запустите программу:
```bash
python file_renamer.py
```

2. **Добавление пар папок**:
   - Выберите исходную папку (папка с файлами для переименования)
   - Выберите папку назначения (куда будут сохранены переименованные файлы)
   - Нажмите "Добавить в список"

3. **Настройка именования**:
   - Установите разделитель между названиями папок (по умолчанию: " + ")
   - Установите символ кавычек для названий папок (по умолчанию: одинарная кавычка в Windows, двойная в других системах)
   - При желании включите чекбокс "Включать название выбранной папки"

4. **Запуск обработки**:
   - Нажмите "ЗАПУСТИТЬ ОБРАБОТКУ"
   - Следите за прогрессом с помощью прогресс-баров

### Как это работает

1. Программа копирует всю структуру исходной папки в папку назначения
2. Для каждого файла собираются все названия родительских папок по пути
3. Имена файлов генерируются путем объединения названий папок с настроенным разделителем и кавычками
4. Недопустимые символы автоматически удаляются для обеспечения совместимости
5. Файлы переименовываются с новыми именами при сохранении исходной структуры

### Пример

Если файл `example.txt` находится по пути `source_folder/subfolder1/subfolder2/example.txt`:
- С настройками по умолчанию: `'subfolder1' + 'subfolder2' + example.txt`
- С включенной корневой папкой: `'root_name' + 'subfolder1' + 'subfolder2' + example.txt`

### Совместимость с Windows

Программа автоматически обрабатывает ограничения имен файлов Windows:
- Удаляет недопустимые символы: `< > : " / \ | ? *`
- Удаляет завершающие точки и пробелы
- Использует одинарные кавычки по умолчанию в Windows для избежания ошибок путей

### Версия

Текущая версия: См. файл `VERSION`

### Лицензия

Подробности см. в файле `LICENSE`.

### Участие в разработке

Вклад в проект приветствуется! Убедитесь, что ваш код соответствует существующему стилю и включает двуязычные комментарии.

### История изменений

См. `CHANGELOG.md` для истории версий и изменений.

